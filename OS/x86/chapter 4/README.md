# Chapter 4 虚拟机的安装和使用

## 计算机的加电和复位

在处理器的众多引脚中，有一个是RESET,用于接受复位信号，每当处理器加电，或者RESET引脚的电平由低边高时，处理器都会执行一个硬件初始化，以及一个可选的内部自测试，然后将内部所有寄存器的内容初始到一个内置状态。

对于8086，ROM占据着整个内存空间顶端的64KB，物理地址范围为`0xF0000~0xFFFFF`，里面固化了开机时要执行的指令。DRAM占据着较低端的640KB，地址范围为`0x00000~0x9FFFF`。中间还有一部分，分给了其他外围设备。当8086加电或者复位时，`CS=0xFFFF, IP=0x0000`。因此，它取的第一条指令位于物理地址`0xFFFF0`，固化了开机时需要执行的指令。

## 磁盘及其工作原理

磁盘可以只有一个盘片，也可能有好几个盘片。但无论如何，它们都串在同一个轴上，由电动机带动着一起高速旋转。每个盘片都有两个磁头，上面一个，下面一个，磁头都有编号。

每个磁头不是单独移动的。相反，它们都通过磁头臂固定在同一个支架上，由步进电动机带动着一起在盘片的中心和边缘之间来回移动。

当盘片高速旋转时，磁头每步进一次，都会从它所在的位置开始，绕着圆心“画”出一个看不见的圆圈，这就是磁道。磁道是数据记录的轨迹。因为所有磁头都是联动的，故每个盘面上的同一条磁道又可以形成一个虚拟的圆柱，称为柱面。

磁道，或者柱面，也要编号。编号是从盘面最边缘的那条磁道开始，向着圆心的方向，从0开始编号。磁道还要进一步划分为扇区。每条磁道能够划分为几个扇区，取决于磁盘的制造者，但通常为63个，扇区的编号从1开始。

## 一切从主引导扇区开始

磁盘的第一个扇区为0面0道1扇区，这个扇区称为主引导扇区。如果计算机设置从硬盘启动，那么ROM-BIOS将读取硬盘主引导扇区的内容，将它加载到内存地址`0x0000: 0x7c00`处。
